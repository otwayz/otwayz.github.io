<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="本篇文章是基于 腾讯X5内核 WebView 实践的总结篇，较上篇文章更为完整，具体。">
<meta name="keywords" content="WebView">
<meta property="og:type" content="article">
<meta property="og:title" content="腾讯X5内核 WebView 实践总结">
<meta property="og:url" content="https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/index.html">
<meta property="og:site_name" content="Otway">
<meta property="og:description" content="本篇文章是基于 腾讯X5内核 WebView 实践的总结篇，较上篇文章更为完整，具体。">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://res.cloudinary.com/otway/image/upload/v1519276814/inspect_small.png">
<meta property="og:updated_time" content="2018-04-06T07:05:12.502Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="腾讯X5内核 WebView 实践总结">
<meta name="twitter:description" content="本篇文章是基于 腾讯X5内核 WebView 实践的总结篇，较上篇文章更为完整，具体。">
<meta name="twitter:image" content="http://res.cloudinary.com/otway/image/upload/v1519276814/inspect_small.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>腾讯X5内核 WebView 实践总结</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="http://github.com/otwayz">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/04/06/hello-world/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/02/03/腾讯X5内核-Webview-实践篇/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&text=腾讯X5内核 WebView 实践总结"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&is_video=false&description=腾讯X5内核 WebView 实践总结"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=腾讯X5内核 WebView 实践总结&body=Check out this article: https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&name=腾讯X5内核 WebView 实践总结&description=&lt;p&gt;本篇文章是基于 腾讯X5内核 WebView 实践的总结篇，较上篇文章更为完整，具体。&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#onPageFinished-回调时机"><span class="toc-number">1.</span> <span class="toc-text">onPageFinished() 回调时机</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ready-替换-onPageFinished-实现"><span class="toc-number">2.</span> <span class="toc-text">ready 替换 onPageFinished 实现</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#单页应用"><span class="toc-number">3.</span> <span class="toc-text">单页应用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Js-注入时机以及时序控制"><span class="toc-number">4.</span> <span class="toc-text">Js 注入时机以及时序控制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#资源加载回调"><span class="toc-number">5.</span> <span class="toc-text">资源加载回调</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#调试"><span class="toc-number">6.</span> <span class="toc-text">调试</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        腾讯X5内核 WebView 实践总结
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Otway</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-02-22T07:57:16.000Z" itemprop="datePublished">2018-02-22</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/WebView/">WebView</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>本篇文章是基于 腾讯X5内核 WebView 实践的总结篇，较上篇文章更为完整，具体。</p>
<a id="more"></a>
<h1 id="onPageFinished-回调时机"><a href="#onPageFinished-回调时机" class="headerlink" title="onPageFinished() 回调时机"></a>onPageFinished() 回调时机</h1><p>通过 <code>WebView</code> 的回调函数，分析 <code>onPageFinished()</code> 回调时机</p>
<p>加载某个网址的Android端回调监测如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">shouldOverrideUrlLoading   time: 1519274808392</span><br><span class="line"></span><br><span class="line">onPageStarted: time: 1519274808561 // 169ms</span><br><span class="line"></span><br><span class="line">onPageFinished   time: 1519274809735 // 1174ms</span><br><span class="line">onReadableCallback: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">shouldOverrideUrlLoading   time: 1519274811067 --url :shanbay.native.app://document/ready</span><br><span class="line">onReadableCallback: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">onPageFinished   time: 1519274817879 // 9318ms</span><br><span class="line">onReadableCallback: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>据上数据分析：<br>第一次<code>onPageFinished()</code>回调触发是在 1174ms (较<code>onPageStarted()</code>方法)<br>第二次<code>onPageFinished()</code>回调触发是在 9318ms</p>
<p>通过 <code>chrome://inspect</code>监测的资源加载时序<br><img src="http://res.cloudinary.com/otway/image/upload/v1519276814/inspect_small.png" alt="chrome://inspect"></p>
<p><strong>Network</strong> 面板突出显示两种事件：<code>DOMContentLoaded</code> 和 <code>load</code></p>
<p>解析页面的初始标记时会触发 <code>DOMContentLoaded</code>。 此事件将在<strong>Network</strong> 面板上的两个地方显示：</p>
<ol>
<li><strong>Overview</strong> 窗格中的蓝色竖线表示事件。</li>
<li>在 <strong>Summary</strong> 窗格中，您可以看到事件的确切时间。</li>
</ol>
<p>页面完全加载时将触发 load。此事件显示在三个地方：</p>
<ol>
<li><strong>Overview</strong> 窗格中的红色竖线表示事件。</li>
<li><strong>Requests Table</strong> 中的红色竖线也表示事件。</li>
<li>在 Summary 窗格中，您可以看到事件的确切时间。</li>
</ol>
<p>分析上图：</p>
<ol>
<li><code>DOMContentLoaded</code> 和 <code>load</code> 事件触发时机与<code>Android</code>端的回调触发时机不一致。</li>
<li>第一次<code>onPageFinished()</code>方法的调用和 <code>document</code> 类型文件加载完成时间相近，且经过多次测试是在该文件加载完成后调用。</li>
<li>第二次<code>onPageFinished()</code>方法回调时间和<code>load</code>时间相近。</li>
</ol>
<p>初步总结：</p>
<ol>
<li>第一次<code>onPageFinished()</code>方法是在<code>document</code>类型文件加载完成后调用的。</li>
<li>第二次<code>onPageFinished()</code>方法是在<code>load</code>完成时回调。</li>
<li>通过仔细查看<code>shouldOverrideUrlLoading</code>和<code>onPageStarted</code>方法时间差以及 图中 <strong>Overview</strong> 栏，会发现加载网页不是第一时间去请求数据的。所以 <code>onPageStarted()</code>方法较触发是有一定的延迟时间。</li>
</ol>
<h1 id="ready-替换-onPageFinished-实现"><a href="#ready-替换-onPageFinished-实现" class="headerlink" title="ready 替换 onPageFinished 实现"></a>ready 替换 onPageFinished 实现</h1><p>据上分析的结果我们会发现，<code>onPageFinished()</code>方法会调用多次，所以，如果我们将业务逻辑放到该方法中执行，如果不做控制，势必会出现一些问题。当然，由于网页类型的多样性，即使做了控制，依然会在特定的页面出现问题。</p>
<p><strong>那么我们如何摆脱对<code>onPageFinished()</code>的依赖呢？</strong></p>
<p>网页的加载状况，前端肯定会有生命周期的感知，那么我们为什么不依赖前端的通知来触发<code>Native</code>逻辑呢？</p>
<p>通过上述的思考，<code>Native</code>的事件触发完全交给前端去主动调取，而不是通过不靠谱的<code>WebView</code>回调。在前端的<code>$.ready()</code>方法中去通知移动端开始执行业务逻辑。</p>
<p><strong>并且这种方式在时序性能方面有很大提升，比第二次<code>onPageFinished()</code>触发时机早很多（在较为复杂的页面相差更大）</strong></p>
<h1 id="单页应用"><a href="#单页应用" class="headerlink" title="单页应用"></a>单页应用</h1><p>上面我们通过 <code>ready()</code> 的主动通知，实现了 <code>onPageFinished()</code> 方法中业务逻辑的优化。</p>
<p>但是，在单页应用的网页中，<code>$.ready()</code> 只在主页面渲染完成时触发一次，在子页面并不会触发，而且，<code>WebView</code> 的 <code>shouldOverrideUrlLoading()</code> 及 <code>onPageStarted()</code> 方法都不会回调。在一些单应用网页会触发 <code>onPageFinished()</code> 方法，它去请求了新的资源，所以我们感知到了回调。而个别网页并没有去请求新的资源，直接对资源进行了替换，这种情况，我们就感知不到 <code>onPageFinished()</code> 的回调。</p>
<p>当然，如果开发自己的页面就不存在这些多情况的处理，可以协商解决方案。</p>
<p>本文的主要实现是基于第三方网页做的功能扩展，所以需要考虑这些兼容性问题。</p>
<p>给出不成熟的参考方案：</p>
<ol>
<li>前端 <code>url</code> 变化监听，通知移动端页面变化。</li>
<li>在 <code>onPageFinished()</code> 方法中再去做一个保底操作，损失一部分性能换取用户的响应速度。</li>
</ol>
<h1 id="Js-注入时机以及时序控制"><a href="#Js-注入时机以及时序控制" class="headerlink" title="Js 注入时机以及时序控制"></a>Js 注入时机以及时序控制</h1><p>网络上的普遍做法是在 <code>onPageFinished()</code> 中注入 <code>Js</code> 脚本。</p>
<p>这种做法存在一些问题：</p>
<ul>
<li><p>可能会注入多次。</p>
</li>
<li><p>onPageFinished()第二次调用时机很迟，在复杂的页面性能损失很大。</p>
</li>
<li><p>如果注入太多，会影响页面的体验。</p>
</li>
</ul>
<p>由于项目注入的脚本行数达到 1W+，所以我们需要对时序做一些优化。保证调用时我们已经完成了注入。</p>
<p>这里我们主要注入生成一个 <code>script</code> 标签。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">webView.loadUrl(<span class="string">"javascript:(function() &#123;"</span> +</span><br><span class="line">        <span class="string">"var scriptElement = document.getElementById('readability-script');"</span> +</span><br><span class="line">        <span class="string">"var parent = document.getElementsByTagName('body').item(0);"</span> +</span><br><span class="line">        <span class="string">"if(parent &amp;&amp; !scriptElement) &#123;"</span> +</span><br><span class="line">        <span class="string">"var script = document.createElement('script');"</span> +</span><br><span class="line">        <span class="string">"script.type = 'text/javascript';"</span> +</span><br><span class="line">        <span class="string">"script.id = 'readability-script';"</span> +</span><br><span class="line">         <span class="comment">// Tell the browser to BASE64-decode the string into your script !!!</span></span><br><span class="line">        <span class="string">"script.innerHTML = window.atob('"</span> + mAssetsScript + <span class="string">"');"</span> +</span><br><span class="line">        <span class="string">"parent.appendChild(script);&#125;"</span> +</span><br><span class="line">        <span class="string">"&#125;)()"</span>);</span><br></pre></td></tr></table></figure>
<p>通过控制标签的唯一性来防止注入多次； 在页面初始化前完成本地 js 脚本的文件读取；不断尝试注入直到可以注入为止。</p>
<p>在 <code>onProgressChanged()</code> 回调中，不断的尝试读取节点注入脚本。</p>
<p>通过最开始对 <code>onPageFinished()</code> 的分析。是否可以尝试在第一次回调时开始注入脚本。但是，不能保证每个网页都会回调两次<code>onPageFinished()</code>。</p>
<blockquote>
<p>通常情况下，CSS不会阻塞HTML的解析，但如果CSS后面有JS，则会阻塞JS的执行直到CSS加载完成（即便JS是内联的脚本），从而间接阻塞HTML的解析。</p>
</blockquote>
<h1 id="资源加载回调"><a href="#资源加载回调" class="headerlink" title="资源加载回调"></a>资源加载回调</h1><p>在研究<code>WebView</code>加载时序时发现了这个资源加载的回调<code>onLoadResource()</code>。这里简单介绍下，针对这个回调，可以做的事情很多。</p>
<p>在加载页面资源时会调用，每一个资源（比如图片）的加载都会调用一次。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">webView.setWebViewClient(<span class="keyword">new</span> WebViewClient()&#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onLoadResource</span><span class="params">(WebView view, String url)</span> </span>&#123;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>可以实现预加载及手动缓存的功能。优化用户体验并且减少多次访问造成的流量浪费。</p>
<h1 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h1><p><a href="https://github.com/riskers/blog/issues/11">打造最舒适的 WebView 调试环境</a></p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="http://github.com/otwayz">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#onPageFinished-回调时机"><span class="toc-number">1.</span> <span class="toc-text">onPageFinished() 回调时机</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ready-替换-onPageFinished-实现"><span class="toc-number">2.</span> <span class="toc-text">ready 替换 onPageFinished 实现</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#单页应用"><span class="toc-number">3.</span> <span class="toc-text">单页应用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Js-注入时机以及时序控制"><span class="toc-number">4.</span> <span class="toc-text">Js 注入时机以及时序控制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#资源加载回调"><span class="toc-number">5.</span> <span class="toc-text">资源加载回调</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#调试"><span class="toc-number">6.</span> <span class="toc-text">调试</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&text=腾讯X5内核 WebView 实践总结"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&is_video=false&description=腾讯X5内核 WebView 实践总结"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=腾讯X5内核 WebView 实践总结&body=Check out this article: https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&title=腾讯X5内核 WebView 实践总结"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://github.com/otwayz/2018/02/22/腾讯X5内核-WebView-实践总结/&name=腾讯X5内核 WebView 实践总结&description=&lt;p&gt;本篇文章是基于 腾讯X5内核 WebView 实践的总结篇，较上篇文章更为完整，具体。&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 Otway
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="http://github.com/otwayz">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


